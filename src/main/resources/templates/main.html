<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Book My Ticket</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

<style>
body {
    margin: 0;
    font-family: 'Inter', sans-serif;
    background: #ffffff;
    overflow-x: hidden;
}

/* ================= NAVBAR ================= */
.navbar {
    background: #111 !important;
    padding: 14px 32px;
}
.navbar-brand {
    font-size: 1.6rem;
    font-weight: 700;
    color: #ff2e2e !important;
}

/* ===================== HERO SLIDER ===================== */
.slider-container {
    width: 100%;
    height: 80vh;
    overflow: hidden;
    background: linear-gradient(135deg, #ffffff, #ffe5e5);
    display: flex;
    align-items: center;
    justify-content: center;
}

.slider-content {
    width: 100%;
    max-width: 1280px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 60px;
}

/* LEFT BLOCK */
.text-block {
    max-width: 520px;
    animation: fadeInLeft .8s ease;
}
.text-block h1 {
    font-size: 3.2rem;
    font-weight: 800;
    margin: 0;
    color: #1c1c1c;
}
.text-meta {
    margin: 14px 0;
    font-size: 1.2rem;
    color: #555;
    font-weight: 500;
}
.book-btn {
    padding: 14px 34px;
    background: linear-gradient(135deg, #ff3b3b, #c60000);
    color: #fff;
    border-radius: 40px;
    border: none;
    font-size: 1rem;
    font-weight: 600;
    transition: .25s;
}
.book-btn:hover {
    transform: scale(1.05);
}

/* RIGHT POSTER */
.poster {
    width: 380px;
    height: 520px;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 18px 35px rgba(0,0,0,0.22);
    animation: fadeInRight .8s ease;
}
.poster img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* ARROWS */
.arrow-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(255,255,255,0.9);
    border-radius: 50%;
    width: 46px;
    height: 46px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    backdrop-filter: blur(4px);
    font-size: 1.3rem;
    box-shadow: 0 5px 12px rgba(0,0,0,0.15);
}
.left-arrow { left: 22px; }
.right-arrow { right: 22px; }
.arrow-btn:hover {
    background: #fff;
}

/* DOTS */
.dots {
    position: absolute;
    bottom: 40px;
    display: flex;
    gap: 10px;
}
.dot {
    width: 10px;
    height: 10px;
    background: #aaa;
    border-radius: 50%;
    cursor: pointer;
}
.dot.active {
    width: 26px;
    border-radius: 10px;
    background: #ff2e2e;
}

/* Animations */
@keyframes fadeInLeft {
    from { opacity: 0; transform: translateX(-40px); }
    to { opacity: 1; transform: translateX(0); }
}
@keyframes fadeInRight {
    from { opacity: 0; transform: translateX(40px); }
    to { opacity: 1; transform: translateX(0); }
}

/* ================= MOVIES GRID ================= */
.movie-card {
    background: linear-gradient(135deg, #ffffff, #ffe6e6);
    border-radius: 10px;
    overflow: hidden;
    border: 1px solid #ffcccc;
    transition: .25s ease;
}
.movie-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 15px 38px rgba(0,0,0,0.18);
}
.movie-card img {
    height: 280px;
    width: 100%;
    object-fit: cover;
}
.movie-card h5 {
    font-weight: 700;
    margin: 10px 0 5px;
}
.movie-card .btn {
    background: linear-gradient(135deg, #ff3b3b, #c60000);
    border: none;
    font-weight: 600;
}
.movie-card .btn:hover {
    background: linear-gradient(135deg, #ff1a1a, #a00000);
}

/* ================= FOOTER ================= */
footer {
    background: #111;
    color: #ccc;
    padding: 20px;
    text-align: center;
    margin-top: 50px;
}

</style>
</head>

<body>

<!-- ================= NAVBAR ================= -->
<nav class="navbar navbar-expand-lg navbar-dark shadow-sm">
    <a class="navbar-brand" href="/">
        <i class="bi bi-film"></i> BookMyTicket
    </a>

    <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navMenu">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navMenu" class="collapse navbar-collapse justify-content-end">
        <div th:if="${session.user == null}">
            <a href="/login" class="btn btn-outline-light me-2">Login</a>
            <a href="/register" class="btn btn-danger">Register</a>
        </div>

        <div th:if="${session.user != null}" class="d-flex align-items-center">
            <span class="text-white me-3" th:text="'Hello, ' + ${session.user.name}"></span>
            <a href="/logout" class="btn btn-danger">Logout</a>
        </div>
    </div>
</nav>

<!-- ================= HERO SLIDER ================= -->
<div class="slider-container">

    <div class="arrow-btn left-arrow" onclick="prevSlide()">
        <i class="bi bi-chevron-left"></i>
    </div>

    <div class="slider-content" id="slide">

        <div class="text-block" id="leftText">
            <h1 id="movieTitle">Andhra King Taluka</h1>
            <div class="text-meta" id="movieMeta">UA13+ • Drama, Romance</div>
            <button class="book-btn">Book now</button>
        </div>

        <div class="poster">
            <img id="posterImg" src="https://via.placeholder.com/400x500?text=Movie+Poster">
        </div>

    </div>

    <div class="arrow-btn right-arrow" onclick="nextSlide()">
        <i class="bi bi-chevron-right"></i>
    </div>

    <div class="dots" id="dots"></div>

</div>

<!-- ================= MOVIES SECTION ================= -->
<section class="container py-5">
    <h2 class="text-center fw-bold mb-4">Now Showing</h2>

    <div class="row g-4">

        <div class="col-md-3 col-sm-6">
            <div class="movie-card card">
                <img src="https://wallpapercat.com/w/full/2/0/7/119844-3840x2160-desktop-4k-avengers-background.jpg">
                <div class="card-body">
                    <h5>Avengers: Endgame</h5>
                    <p class="text-muted small">Action • 3h 1m</p>
                    <a class="btn w-100">Book Now</a>
                </div>
            </div>
        </div>

        <div class="col-md-3 col-sm-6">
            <div class="movie-card card">
                <img src="https://wallpapercave.com/wp/wp1817968.jpg">
                <div class="card-body">
                    <h5>Interstellar</h5>
                    <p class="text-muted small">Sci-Fi • 2h 49m</p>
                    <a class="btn w-100">Book Now</a>
                </div>
            </div>
        </div>

        <div class="col-md-3 col-sm-6">
            <div class="movie-card card">
                <img src="https://wallpaperaccess.com/full/1264685.jpg">
                <div class="card-body">
                    <h5>Inception</h5>
                    <p class="text-muted small">Thriller • 2h 28m</p>
                    <a class="btn w-100">Book Now</a>
                </div>
            </div>
        </div>

        <div class="col-md-3 col-sm-6">
            <div class="movie-card card">
                <img src="https://upload.wikimedia.org/wikipedia/en/thumb/e/e1/Joker_(2019_film)_poster.jpg/250px-Joker_(2019_film)_poster.jpg">
                <div class="card-body">
                    <h5>Joker</h5>
                    <p class="text-muted small">Drama • 2h 2m</p>
                    <a class="btn w-100">Book Now</a>
                </div>
            </div>
        </div>

    </div>
</section>

<!-- ================= FOOTER ================= -->
<footer>
    © 2025 BookMyTicket — All Rights Reserved
</footer>

<!-- ================= JS SLIDER ================= -->
<script>
const slides = [
	{
	    title: "Stranger Things - Season 5",
	    meta: "UA16+ • Sci-Fi, Thriller",
	    poster: "https://m.media-amazon.com/images/I/81wV1r82R1L.jpg"
	},
    {
        title: "Interstellar",
        meta: "U • Sci-Fi, Space Adventure",
        poster: "https://m.media-amazon.com/images/I/91vIHsL-zjL.jpg"
    },
    {
        title: "Joker",
        meta: "A • Crime, Drama",
        poster: "https://assets-in.bmscdn.com/iedb/movies/images/extra/vertical_logo/mobile/thumbnail/xxlarge/joker-folie-a-deux-et00352820-1730374353.jpg"
    }
];

let index = 0;

function updateSlide() {
    document.getElementById("movieTitle").innerText = slides[index].title;
    document.getElementById("movieMeta").innerText = slides[index].meta;
    document.getElementById("posterImg").src = slides[index].poster;
    updateDots();
}

function nextSlide() {
    index = (index + 1) % slides.length;
    updateSlide();
}

function prevSlide() {
    index = (index - 1 + slides.length) % slides.length;
    updateSlide();
}

function initDots() {
    const dots = document.getElementById("dots");
    slides.forEach((_, i) => {
        const dot = document.createElement("div");
        dot.classList.add("dot");
        dot.onclick = () => { index = i; updateSlide(); };
        dots.appendChild(dot);
    });
}

function updateDots() {
    document.querySelectorAll(".dot").forEach((d, i) => {
        d.classList.toggle("active", i === index);
    });
}

initDots();
updateSlide();

/* >>> AUTO SLIDE EVERY 5 SECONDS <<< */
setInterval(() => {
    nextSlide();
}, 5000);

</script>

</body>
</html>
